{% load staticfiles %}
{% load bootstrap_components %}

<script src="http://cdn.pydata.org/bokeh/release/bokeh-0.11.1.min.js"></script>
<link rel="stylesheet" href="http://cdn.pydata.org/bokeh/release/bokeh-0.11.1.min.css">
<script src="{% static 'flowviz/common.js' %}"></script>
<script src="{% static 'flowviz/scenario.js' %}"></script>
<script type='text/javascript'>
    var attribute_name = "{{ attribute_name|escapejs }}"
    var gap_attribute_name = "{{ gap_attribute_name|escapejs }}"
    var scenario = {
        name: "{{ scenario.name|escapejs }}",
        description: "{{ scenario.description|escapejs }}",
        attribute_name: "{{ scenario.attribute_name|escapejs }}",
        attribute_units: "{{ scenario.attribute_units|escapejs }}",
        attribute_units_abbr: "{{ scenario.attribute_units_abbr|escapejs }}"
    }

    var imgUrls = {
        average: "{% url 'scenario-average' scenario.id %}",
        total: "{% url 'scenario-dynamic-raster' scenario.id %}",
        gap: "{% url 'scenario-dynamic-raster' scenario.id %}",
        stats: "{% url 'scenario-deficit-stats' scenario.id %}",
        stats_annual: "{% url 'scenario-deficit-stats-annual' scenario.id %}",
        stats_pct: "{% url 'scenario-deficit-stats-pct' scenario.id %}",
        stats_pct_annual: "{% url 'scenario-deficit-stats-pct-annual' scenario.id %}",
        pct: "{% url 'scenario-deficit-days' scenario.id %}",
        pct_annual: "{% url 'scenario-deficit-days-annual' scenario.id %}",
        annual_min: "{% url 'scenario-annual-min' scenario.id %}",
    }

    $(document).ready(function () {
        Scenario.initialize(scenario, imgUrls)
    });
</script>

{{ temporal_deficit_script | safe }}
{{ volume_deficit_script | safe }}
